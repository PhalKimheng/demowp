(()=>{"use strict";const e=window.React,t=window.wp.blockEditor,l=window.wp.blocks,n=window.wp.components;(0,l.registerBlockType)("rachana-block/table-structure",{attributes:{members:{type:"array",default:[]}},edit:({attributes:l,setAttributes:a})=>{const{members:r}=l,o=(0,t.useBlockProps)(),s=(e,t,l)=>{const n=[...r];n[e]={...n[e],[t]:l},a({members:n})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:"Members",initialOpen:!0},r.map(((t,l)=>(0,e.createElement)(n.PanelBody,{key:l,title:`Member ${l+1}`,initialOpen:!1},(0,e.createElement)(n.TextControl,{label:"Title",value:t.title,onChange:e=>s(l,"title",e)}),(0,e.createElement)(n.TextControl,{label:"Name",value:t.name,onChange:e=>s(l,"name",e)}),(0,e.createElement)(n.TextControl,{label:"Role",value:t.role,onChange:e=>s(l,"role",e)}),(0,e.createElement)(n.TextControl,{label:"Position",value:t.position,onChange:e=>s(l,"position",e)}),(0,e.createElement)(n.Button,{isSecondary:!0,onClick:()=>(e=>{const t=r.filter(((t,l)=>l!==e));a({members:t})})(l)},"Remove Member")))),(0,e.createElement)(n.Button,{isPrimary:!0,onClick:()=>{const e=[...r,{title:"",name:"",role:"",position:""}];a({members:e})}},"Add Member"))),(0,e.createElement)("div",{...o},(0,e.createElement)(n.Placeholder,{label:"Leadership Table"})))},save:({attributes:l})=>{const{members:n}=l,a=t.useBlockProps.save();return(0,e.createElement)("div",{...a,className:"cgds table-structure"},(0,e.createElement)("div",{className:"pb-8"},n.map(((t,l)=>{const a=`rounded-md bg-light p-5 text-muted ${0===l?"":"pt-0 rounded-bottom"} ${l===n.length-1?"":"pb-3 rounded-top"}`;return(0,e.createElement)("div",{key:l,className:a},(0,e.createElement)("div",{className:"row row-cols-3 rounded-top rounded-bottom bg-white p-2 text-dark align-items-center"},(0,e.createElement)("div",{className:"col-3 align-items-center"},t.title," ",(0,e.createElement)("span",{className:"fw-bold"},t.name)),(0,e.createElement)("div",{className:"col-7 d-flex align-items-center"},t.role),(0,e.createElement)("div",{className:"col-2 d-flex align-items-center text-muted"},t.position)))}))))}})})();