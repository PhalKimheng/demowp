(()=>{"use strict";var e,t={768:()=>{const e=window.wp.blocks,t=window.React,a=window.wp.components,l=window.wp.blockEditor;(0,e.registerBlockType)("rachana-block/youtube-playlist",{attributes:{mark_text:{type:"string",default:"Youtube Playlist"},toggle_panel:{type:"boolean",default:!1},key:{type:"string",default:""},playlist_id:{type:"string",default:""},data_playlist:{type:"array",default:[]}},edit:({attributes:e,setAttributes:s})=>{const r=(0,l.useBlockProps)(),{mark_text:i,toggle_panel:o,key:n,playlist_id:c,data_playlist:d}=e;if(!d.length&&""!=n&&""!=c){let e="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=25&key="+n+"&playlistId="+c;const t=new XMLHttpRequest;t.open("GET",e),t.send(),t.onreadystatechange=e=>{if(4==t.readyState){const e=JSON.parse(t.responseText).items,a=[];for(const t in e)if(Object.hasOwnProperty.call(e,t)){const l=e[t];l.snippet.thumbnails.standard&&a.push({id:l.snippet.resourceId.videoId,title:l.snippet.title,description:l.snippet.description,src:"https://www.youtube.com/embed/"+l.snippet.resourceId.videoId+"?autoplay=0",thumbnail:l.snippet.thumbnails.standard.url})}a.length&&s({data_playlist:a})}}}return(0,t.createElement)("div",{...r},(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,null,(0,t.createElement)(a.TextControl,{label:"Mark Text",value:i,onChange:e=>s({mark_text:e})})),(0,t.createElement)(a.PanelBody,{title:"Block Options",initialOpen:o,onToggle:()=>{s({toggle_panel:!o})}},(0,t.createElement)(a.TextareaControl,{label:"Key",value:n,onChange:e=>{s({key:e,data_playlist:{}})}}),(0,t.createElement)(a.TextareaControl,{label:"Playlist",value:c,onChange:e=>{s({playlist_id:e,data_playlist:{}})}}))),(0,t.createElement)("div",{className:"border p-3"},(0,t.createElement)("small",null,i)))},save:({attributes:e})=>{var a;const{data_playlist:s}=e,r=l.useBlockProps.save(),i=null!==(a=s?.[0]?.src)&&void 0!==a?a:"";return(0,t.createElement)("div",{...r,className:"cgds news news-block carousel slide"},(0,t.createElement)("div",{className:"ratio ratio-16x9 mb-2 mb-md-3"},(0,t.createElement)("iframe",{id:"video-playlist",src:i,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),(0,t.createElement)("div",{className:"slick-slider-pagination","data-slick":'{ "slidesToShow": 3, "slidesToScroll": 3, "dots": true, "responsive": [ { "breakpoint": 768, "settings": { "slidesToShow": 2, "slidesToScroll": 2 } } ] }'},s.map((e=>(e=>(0,t.createElement)("div",{key:e.id,className:"p-2"},(0,t.createElement)("div",{className:"cgds card size-auto"},(0,t.createElement)("div",{className:`video-playlist-item ${e.thumbnail?"image":"imageless"} ${i==e.src?"active":""}`,onclick:"document.getElementById('video-playlist').src='"+e.src+"'",style:"cursor:pointer;","data-video-src":e.src||""},e.thumbnail&&(0,t.createElement)("div",{className:"card-img-top ratio ratio-16x9"},(0,t.createElement)("img",{className:"img-fluid",style:"object-fit: cover;",src:e.thumbnail,alt:"Post Image"})),(0,t.createElement)("div",{className:"card-body"},(0,t.createElement)("div",{className:"video-card-title"},e.title),(0,t.createElement)("a",{className:"card-link blog-btn color-100"},(0,t.createElement)("i",{className:"bi bi-play-circle-fill"}),"ចុចមើលវីដេអូ"))))))(e)))))}})}},a={};function l(e){var s=a[e];if(void 0!==s)return s.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=(t,a,s,r)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],r=e[d][2];for(var o=!0,n=0;n<a.length;n++)(!1&r||i>=r)&&Object.keys(l.O).every((e=>l.O[e](a[n])))?a.splice(n--,1):(o=!1,r<i&&(i=r));if(o){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,s,r]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={468:0,300:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var s,r,i=a[0],o=a[1],n=a[2],c=0;if(i.some((t=>0!==e[t]))){for(s in o)l.o(o,s)&&(l.m[s]=o[s]);if(n)var d=n(l)}for(t&&t(a);c<i.length;c++)r=i[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(d)},a=self.webpackChunkrachana_wordpress_blocks=self.webpackChunkrachana_wordpress_blocks||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var s=l.O(void 0,[300],(()=>l(768)));s=l.O(s)})();